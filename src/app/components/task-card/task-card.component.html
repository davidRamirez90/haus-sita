<article class="card">
  <span class="priority-strip" [style.backgroundColor]="priorityColor"></span>
  <div class="content">
    <div class="title-row">
      <div class="title">{{ task.title }}</div>
      <span class="owner-dot" [style.backgroundColor]="ownerColor" title="Zuständig"></span>
    </div>
    <div class="meta-row">
      <span class="meta">{{ effortLabel }}</span>
      <span class="meta" *ngIf="task.due_date">Fällig {{ task.due_date }}</span>
      <span class="meta" *ngIf="task.planned_date && task.time_mode === 'fixed'">Geplant {{ task.planned_date }}</span>
    </div>
    <div class="priority-row" *ngIf="priorityBadges.length">
      <span class="priority-chip" *ngFor="let item of priorityBadges">
        <span class="priority-dot" [style.backgroundColor]="item.priorityColor"></span>
        <span class="priority-name" [style.color]="item.userColor">{{ item.name }}</span>
      </span>
    </div>
  </div>
</article>
